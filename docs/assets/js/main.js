"use strict";const btnSearch=document.querySelector(".js-button-search"),btnReser=document.querySelector(".js-button-reset"),inputForm=document.querySelector(".js_input"),listSeries=document.querySelector(".js-list-series"),favList=document.querySelector(".js-favorite");let data=[];function renderSeries(){console.log(data);let e="",t="";for(const i of data){t=-1!==ListFavorites.findIndex(e=>i.mal_id===e.mal_id)?"cardSerie--myFavorite":"",e+=`<li class="cardSerie js_cardSerieResault ${t}" id="${i.mal_id}">`,e+=`<img src="${i.images.jpg.image_url}" alt="">`,e+=`<h3>${i.title}</h3>`,e+="</li>"}listSeries.innerHTML=e,clickOnSerie()}function renderFavorites(){let e="";for(let t=0;t<ListFavorites.length;t++)e+='<li class ="li-favorite">',e+=`<img src="${ListFavorites[t].images.jpg.image_url}" alt="">`,e+=`<h3>${ListFavorites[t].title}</h3>`,e+="</li>";favList.innerHTML=e}btnSearch.addEventListener("click",e=>{e.preventDefault();const t=inputForm.value;fetch("https://api.jikan.moe/v4/anime?q="+t).then(e=>e.json()).then(e=>{data=e.data,renderSeries()})});let ListFavorites=[];function handleClick(e){console.log(e.currentTarget.id);const t=parseInt(e.currentTarget.id),i=data.find(e=>e.mal_id===t),r=ListFavorites.findIndex(e=>e.mal_id===t);-1===r?ListFavorites.push(i):ListFavorites.splice(r,1),console.log(ListFavorites),renderSeries(),renderFavorites(),setLocalStorage()}function addToFavourites(e,t){const i=searchItems.filter(t=>t.show.name==e);0!==i.length&&favouriteItems.push(i[0])}function clickOnSerie(){const e=document.querySelectorAll(".js_cardSerieResault");for(const t of e)t.addEventListener("click",handleClick)}function handleClickReset(){renderSeries(),setLocalStorage()}function setLocalStorage(){localStorage.setItem("ListFavorites",JSON.stringify(ListFavorites))}btnReser.addEventListener("click",handleClickReset);