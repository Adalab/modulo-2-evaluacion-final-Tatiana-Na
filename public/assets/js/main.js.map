{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\n/* Elementos que usamos en el HTML */\n\nconst btnSearch = document.querySelector('.js-button-search');\nconst btnReser = document.querySelector('.js-button-reset');\nconst inputForm = document.querySelector('.js_input');\nconst listSeries =  document.querySelector('.js-list-series');\n\n\n\n\nlet data = []; ///мы создаем константу в которой мы храним то что нам присылает сервер\n\nfunction renderSeries() {\n    console.log(data);\n    let html = '';\n    let classFavorite = '';\n    for (const oneSerie of data) {\n const favIndex = ListFavorites.findIndex((favorite) => oneSerie.mal_id === favorite.mal_id  \n );\n\nif(favIndex !== -1){\n  classFavorite = 'cardSerie_fav';\n}else{\n  classFavorite = '';\n}\n\n     html += `<li class=\"cardSerie js_cardSerieResault ${classFavorite}\" id=\"${oneSerie.mal_id}\">`;\n     html += `<img src=\"${oneSerie.images.jpg.image_url}\" alt=\"\">`;  \n     html += `<h3>${oneSerie.title}</h3>`; \n     html += `</li>`; \n    }\n    listSeries.innerHTML = html;\n    clickOnSerie();\n}\n\n///Eventos\nbtnSearch.addEventListener('click', (event) => {\n  event.preventDefault();\n  const userTextValue = inputForm.value;\n  fetch(`https://api.jikan.moe/v4/anime?q=${userTextValue}`)\n  .then((response) => response.json())\n  .then((result) => {\n\n    data = result.data;\n    renderSeries(); \n});\n}); \n\n\n\n/*\nfunction ApiData() {\nfetch('https://api.jikan.moe/v4/anime?')\n.then((response) => response.json())\n.then((result) => {\n\n    data = result.data;\n    renderSeries(); \n}\n)\n .catch((error) => {\n      console.log(`Se ha producido un error ${error}`);\n    });\n    };\nApiData();\n*/\n\n\n/// Favorits///////\n\nlet ListFavorites = [];\n\n\nfunction handleClick(event) {\nconsole.log(event.currentTarget.id);\nconst idFavorite = parseInt(event.currentTarget.id);\n\nconst serieFavoriteClicked = data.find((serie) => serie.mal_id === idFavorite);\n\nconst serieFavotiteSelected = ListFavorites.findIndex((favorite) => favorite.mal_id === idFavorite);\n\nif(serieFavotiteSelected === -1) {\n  ListFavorites.push(serieFavoriteClicked);\n} else {\n  ListFavorites.splice(serieFavotiteSelected, 1);\n} \n  console.log(ListFavorites);\n  renderSeries();\n}\n\n\n\n\nfunction clickOnSerie() {\n    const searchListResault = document.querySelectorAll('.js_cardSerieResault');\n    for (const li of searchListResault) {\n        li.addEventListener('click', handleClick);\n    }\n}\n\n\n//// Button Reset\n\n\nbtnReser.addEventListener('click', handleClickReset);\n\nfunction handleClickReset() {\n  renderSeries();\n};\n\n\n\n\n/// Buscador///////\n/*inputForm.oninput = function() {\n    let value = this.value.trim();\n    \n    let list = document.querySelectorAll('.js-list-series li');\n  if (value != '') {\n    list.forEach(elem => {\n        if(elem.innerText.(value.toLowerCase()) == -1) {\n            elem.classList.add('hide')\n        }\n    });\n  } else {\n    list.forEach(elem => {\n      elem.classList.remove('hide');  \n    });\n  }\n}\n*/\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}